url = "/calc"
layout = "sstandard"
==
<?
function onTest()
{
$value1 = post('value1');
$value2 = post('value2');
$operation = post('operation');

switch($operation){
case'+' :
$this['answer'] = $value1 + $value2;
break;
case'-' :
$this['answer'] = $value1 - $value2;
break;
case'*' :
$this['answer'] = $value1 * $value2;
break;
case'/' :
$this['answer'] = $value1 / $value2;
break;
}
}
?>
==
<h3>Calculator</h3>
<form class="form-inline" data-request="onTest" data-request-update="calcresult: '#result'">
    <input type="text" name="value1" class="form-control" style="width: 100px;">
    <select name="operation" class="form-control" style="width: 70px;">
        <option>+</option>
        <option>-</option>
        <option>*</option>
        <option>/</option>
    </select>
    <input type="text" name="value2" value="" class="form-control" style="width: 100px;">
    <button type="submit" class="btn btn-primary">Submit</button>

</form>
<h3>Result <small>the calcresult partial</small></h3>
<div id="result">
{%partial "calcresult" %}
</div>